<view wx:if="{{noData}}"></view>
<view class="container" wx:else="{{noData}}">
  <view class="question">
    <view class="questionInfo">
      <view class="process">
        <progress percent="{{(currentIndex + 1) * 100 /totalData}}" strokeWidth="8" active activeColor="#3a448a" borderRadius="16" class="{{item.percent == 50 ? 'progress50' : 'progress90'}}" active-mode="forwards"></progress>
        <text>{{currentIndex + 1}}/{{totalData}}</text>
      </view>
      <view class="mode-class">
        <text>刷题</text>
        <switch class="wx-switch-input" checked="true" bindchange="switchMode" color="#1569E4"/>
        <text>背题</text>
      </view>
    </view>
    <view class="questionTexts" wx:if="{{option_type != 1}}">
      <wemark md="{{questionData[indexList[currentIndex]].question}}" link highlight type="wemark"></wemark>
    </view>

    <view wx:if="{{questionData[indexList[currentIndex]].question_img.length != 0}}" style="width: 100%; height: {{questionImageHeight}}rpx; overflow: hidden;">
      <image src="{{questionData[indexList[currentIndex]].question_img}}" bindload="onQuestionImageLoad" mode="aspectFit" style="width: 100%; height: 100%;"/>
    </view>
  </view>

  <view class="{{option_type == 0 ? 'options': 'optionType'}}">
    <block wx:for="{{options}}" wx:key="index">
      <block wx:if="{{option_type == 0}}">
        <view wx:if="{{show_answer||mode}}" class="option {{item.selected}}" data-index="{{index}}" bindtap="selectOption">
          <!-- <wemark md="{{item.text}}" link highlight type="wemark"></wemark> -->
          <text class="optionText">{{item.text}}</text>
        </view>
        <view class="option" data-index="{{index}}" bindtap="selectOption" wx:else="{{show_answer||mode}}">
          <!-- <wemark md="{{item.text}}" link highlight type="wemark"></wemark> -->
          <text class="optionText">{{item.text}}</text>
        </view>
      </block>
      <block wx:else>
        <view wx:if="{{show_answer||mode}}" class="optionTyped {{item.selected}}" data-index="{{index}}" bindtap="selectOption">
          <text class="optionText">{{item.text}}</text>
        </view>
        <view class="optionTyped" data-index="{{index}}" bindtap="selectOption" wx:else="{{show_answer||mode}}">
          <text class="optionText">{{item.text}}</text>
        </view>
      </block>
    </block>
  </view>

  <view class="icons">
    <image class="favorQuestion" bind:tap="favorQuestion" src="{{favor? '/images/favor_exams.png' : '/images/favor_exam.png'}}" mode=""/>
    <image class="foreQuestion" bind:tap="foreQuestion" src="/images/last.png" mode=""/>
    <image class="nextQuestion" bind:tap="nextQuestion" src="/images/next.png" mode=""/>
  </view>

  <view class="comments" wx:if="{{mode || show_answer}}">
    <view class="borders">
      <view class="feeds">
        <view>
          <view class="correct answers">正确答案：{{answer}}</view><view class=" answers {{answer === userAnswer ? 'correct' : 'wrong'}}">你的答案：{{userAnswer}}</view>
          <view>本题正确率：{{currentRate}}%</view>
        </view>
      </view>
    </view>
    <view class="separator"></view>
    <view class="borders">
      <wemark wx:if="{{option_type==0}}" md="{{questionData[questionIndex].comments}}" link highlight type="wemark"></wemark>
      <view wx:if="{{questionData[indexList[currentIndex]].comment_img.length != 0}}" class="commentsimg">
        <image bindload="onCommentImageLoad" src="{{questionData[indexList[currentIndex]].comment_img}}" mode="aspectFit" style="width: 100%; height: {{commentImageHeight}}rpx;"/>
      </view>
    </view>
  </view>
  <view class="knowledge-points" wx:if="{{mode || show_answer}}">
    <view wx:if="{{questionData[indexList[currentIndex]].point_name.length != 0}}" class="points">
      <text class="point-name">{{questionData[indexList[currentIndex]].point_name}}</text>
    </view>
    <view class="borders">
    </view>
  </view>
</view>
<view style="width: 10%; height: 120rpx;"></view>
